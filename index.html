    async function selectCity(lat, lng, name, suffix, timezone) {
        try {
            const elevRes = await fetch(`https://api.open-meteo.com/v1/elevation?latitude=${lat}&longitude=${lng}`);
            const elevData = await elevRes.json();
            const elev = elevData.elevation ? Math.round(elevData.elevation[0]) : 0;
            
            const fullName = `${name}, ${suffix}`;
            loc = { lat, lng, elev, tz: timezone, name: fullName };
            
            // Auto-Jerusalem logic: Check if name contains "Jerusalem" (case-insensitive)
            if(name.toLowerCase().includes("jerusalem") || name.toLowerCase().includes("yerushalayim")) {
                opts.candles = '40';
            } else {
                opts.candles = '18';
            }

            document.getElementById('locBtn').innerText = `${loc.name} (${loc.elev}m)`;
            closeLocModal();
            render();
        } catch(e) { alert("Could not get elevation."); }
    }
